(()=>{var e={};e.id=11,e.ids=[11],e.modules={20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},209:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},79348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},52296:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var a=r(49442),s=r(10042),n=r(48190),o=r.n(n),i=r(63289),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["register",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,66163)),"C:\\Projects\\team-2\\frontend\\src\\app\\register\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(r.bind(r,11112)),"C:\\Projects\\team-2\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,6042,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}],c=["C:\\Projects\\team-2\\frontend\\src\\app\\register\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/register/page",pathname:"/register",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},18660:(e,t,r)=>{Promise.resolve().then(r.bind(r,66163))},2226:(e,t,r)=>{Promise.resolve().then(r.bind(r,62231))},62231:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var a=r(20149),s=r(21822),n=r(43688),o=r(57801),i=r(39581),l=r(53396),d=r(59167),c=r(63606),u=r.n(c),h=r(4619);function p(){let[e,t]=u().useState(!1),[r,c]=u().useState(!1),[p,m]=u().useState(""),[f,g]=u().useState(""),[x,y]=u().useState(""),[v,b]=u().useState(""),[w,k]=u().useState(""),[A,j]=u().useState(""),[P,C]=u().useState(!1),T=(0,h.useRouter)(),E=[{id:"uppercase",label:"At least one uppercase letter",check:e=>/[A-Z]/.test(e)},{id:"lowercase",label:"At least one lowercase letter",check:e=>/[a-z]/.test(e)},{id:"digit",label:"At least one digit",check:e=>/\d/.test(e)},{id:"special",label:"At least one special character",check:e=>/[\W_]/.test(e)},{id:"minLength",label:"Minimum length of 6 characters",check:e=>e.length>=6}],S=async()=>{C(!0);try{await n.Z.register(A,p,f,x,v,w),T.push("/profile")}catch(e){console.error("Registration failed:",e)}finally{C(!1)}},I=e=>e.match(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+.[A-Z]{2,4}$/i),_=u().useMemo(()=>""!==p&&!I(p),[p]),Z=u().useMemo(()=>E.filter(e=>!e.check(f)).length>0,[f]),U=u().useMemo(()=>f!==x,[f,x]),G=E.filter(e=>e.check(f)).map(e=>e.id);return(0,a.jsxs)("div",{children:[(0,a.jsx)(o.Y,{label:"Email",type:"email",placeholder:"Enter your email",value:p,variant:"bordered",isInvalid:_,color:_?"danger":"default",onValueChange:m}),(0,a.jsx)(o.Y,{label:"Username",type:"text",placeholder:"Enter your Username",value:A,variant:"bordered",onValueChange:j}),(0,a.jsx)(o.Y,{label:"Forname",type:"text",placeholder:"Enter your name",value:v,variant:"bordered",onValueChange:b}),(0,a.jsx)(o.Y,{label:"Surname",type:"text",placeholder:"Enter your name",value:w,variant:"bordered",onValueChange:k}),(0,a.jsx)(o.Y,{label:"Password",type:e?"text":"password",value:f,variant:"bordered",isInvalid:!!f&&Z,placeholder:"Enter your password",onValueChange:g,endContent:(0,a.jsx)(i.A,{isIconOnly:!0,onClick:()=>t(!e),children:(0,a.jsx)(s.Z,{name:"search"})})}),(0,a.jsx)(o.Y,{label:"Verify Password",type:r?"text":"password",placeholder:"Enter your password",value:x,variant:"bordered",onValueChange:y,isInvalid:U,color:U?"danger":"default",endContent:(0,a.jsx)(i.A,{isIconOnly:!0,onClick:()=>c(!r),children:(0,a.jsx)(s.Z,{name:"search"})})}),(0,a.jsx)(i.A,{onClick:S,disabled:P,children:P?"Registering...":"Register"}),(0,a.jsx)("div",{className:"flex flex-col gap-3",children:(0,a.jsx)(l.X,{value:G,isDisabled:!0,children:E.map(e=>(0,a.jsx)(d.K,{value:e.id,radius:"full",children:e.label},e.id))})})]})}},21822:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(20149);let s=({name:e,className:t="",style:r,size:s})=>(0,a.jsx)("span",{className:`material-symbols-rounded ${t}`,style:{fontSize:s,...r},children:e})},43688:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var a=r(37624);class s{constructor(e){if(this.token=null,!e)throw Error("API base URL is not defined.");this.baseUrl=e}setToken(e,t){this.token=e;let r=new Date().getTime()+t;sessionStorage.setItem("authToken",e),sessionStorage.setItem("authTokenExpiration",r.toString())}clearToken(){this.token=null,sessionStorage.removeItem("authToken"),sessionStorage.removeItem("authTokenExpiration")}async fetchApi(e,{method:t="GET",body:r,headers:a={}}={}){let s=`${this.baseUrl}/${e}`,n=r instanceof FormData,o={method:t,headers:{...a,...this.token?{Authorization:`Bearer ${this.token}`}:{},"Content-Type":a["Content-Type"]||"application/json"},body:n?r:r?JSON.stringify(r):void 0},i=await fetch(s,o);if(!i.ok)throw o.body&&console.log(o.body),console.log(await i.text()),Error(`Failed to fetch: ${i.json()}`);return i.json()}async login(e,t){let{token:r,expiresIn:s}=await this.fetchApi("auth/login",{method:"POST",body:{email:e,password:t}});this.setToken(r,s);let n=await this.fetchApi("auth/me",{method:"GET",headers:{Authorization:`Bearer ${r}`}});a.Z.getInstance().setUser(n.id,n.username,n.firstName,n.lastName,n.email,n.profileImageUrl,n.uuid,r)}async register(e,t,r,s,n,o,i){if(await this.fetchApi("auth/register",{method:"POST",body:{firstName:n,lastName:o,username:e,password:r,confirmPassword:s,email:t}}),await this.login(t,r),i){let e=new FormData;e.append("profileImage",i),await this.fetchApi("upload-profile-image",{method:"POST",body:e,headers:{"Content-Type":"multipart/form-data"}});let t=await this.fetchApi("auth/me",{method:"GET",headers:{Authorization:`Bearer ${this.token}`}});a.Z.getInstance().setUser(t.id,t.username,t.firstName,t.lastName,t.email,t.profileImageUrl,t.uuid,this.token)}}async logout(){try{a.Z.getInstance().getUser()?.token&&await this.fetchApi("auth/logout",{method:"POST"})}catch(e){console.error("Failed to log out on server:",e)}a.Z.getInstance().clearUser(),this.clearToken()}async get(e,t){return this.fetchApi(e,{method:"GET",headers:t})}async post(e,t,r){return this.fetchApi(e,{method:"POST",body:t,headers:r})}async put(e,t,r){return this.fetchApi(e,{method:"PUT",body:t,headers:r})}async delete(e,t){return this.fetchApi(e,{method:"DELETE",headers:t})}}let n=new s("http://localhost:8082/api")},66163:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(78105).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Projects\\\\team-2\\\\frontend\\\\src\\\\app\\\\register\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Projects\\team-2\\frontend\\src\\app\\register\\page.tsx","default")},73881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(15394);let s=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[492,611,394,703],()=>r(52296));module.exports=a})();
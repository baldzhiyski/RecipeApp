(()=>{var e={};e.id=178,e.ids=[178],e.modules={20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},209:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},79348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},8193:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>c,pages:()=>p,routeModule:()=>h,tree:()=>d});var s=r(49442),o=r(10042),a=r(48190),i=r.n(a),n=r(63289),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(t,l);let d=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,42093)),"C:\\Projects\\team-2\\frontend\\src\\app\\profile\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(r.bind(r,11112)),"C:\\Projects\\team-2\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,6042,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}],p=["C:\\Projects\\team-2\\frontend\\src\\app\\profile\\page.tsx"],c={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},99995:(e,t,r)=>{Promise.resolve().then(r.bind(r,42093))},92046:(e,t,r)=>{Promise.resolve().then(r.bind(r,15044))},15044:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(20149),o=r(17534),a=r(37624),i=r(43688),n=r(39581);let l=()=>{let e=a.Z.getInstance().getUser();return(0,s.jsxs)(o.Z,{children:[(0,s.jsxs)("div",{children:["Username: ",e?.username]}),(0,s.jsxs)("div",{children:["Firstname: ",e?.firstName]}),(0,s.jsxs)("div",{children:["Lastname: ",e?.lastName]}),(0,s.jsxs)("div",{children:["Email: ",e?.email]}),(0,s.jsxs)("div",{children:["UUID: ",e?.uuid]}),(0,s.jsx)(n.A,{onClick:()=>{i.Z.logout()},children:"Logout"})]})}},17534:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var s=r(20149),o=r(63606),a=r(37624),i=r(39581);let n=({children:e})=>{let[t,r]=(0,o.useState)(!0),[n,l]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{a.Z.getInstance().getUser()?l(!0):l(!1),r(!1)},[]),t)?(0,s.jsx)("div",{children:"Loading..."}):n?(0,s.jsx)(s.Fragment,{children:e}):(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{children:"You are not logged in."}),(0,s.jsx)(i.A,{onClick:()=>window.location.href="/login",children:"Go to Login"})]})}},43688:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(37624);class o{constructor(e){if(this.token=null,!e)throw Error("API base URL is not defined.");this.baseUrl=e}setToken(e,t){this.token=e;let r=new Date().getTime()+t;sessionStorage.setItem("authToken",e),sessionStorage.setItem("authTokenExpiration",r.toString())}clearToken(){this.token=null,sessionStorage.removeItem("authToken"),sessionStorage.removeItem("authTokenExpiration")}async fetchApi(e,{method:t="GET",body:r,headers:s={}}={}){let o=`${this.baseUrl}/${e}`,a=r instanceof FormData,i={method:t,headers:{...s,...this.token?{Authorization:`Bearer ${this.token}`}:{},"Content-Type":s["Content-Type"]||"application/json"},body:a?r:r?JSON.stringify(r):void 0},n=await fetch(o,i);if(!n.ok)throw i.body&&console.log(i.body),console.log(await n.text()),Error(`Failed to fetch: ${n.json()}`);return n.json()}async login(e,t){let{token:r,expiresIn:o}=await this.fetchApi("auth/login",{method:"POST",body:{email:e,password:t}});this.setToken(r,o);let a=await this.fetchApi("auth/me",{method:"GET",headers:{Authorization:`Bearer ${r}`}});s.Z.getInstance().setUser(a.id,a.username,a.firstName,a.lastName,a.email,a.profileImageUrl,a.uuid,r)}async register(e,t,r,o,a,i,n){if(await this.fetchApi("auth/register",{method:"POST",body:{firstName:a,lastName:i,username:e,password:r,confirmPassword:o,email:t}}),await this.login(t,r),n){let e=new FormData;e.append("profileImage",n),await this.fetchApi("upload-profile-image",{method:"POST",body:e,headers:{"Content-Type":"multipart/form-data"}});let t=await this.fetchApi("auth/me",{method:"GET",headers:{Authorization:`Bearer ${this.token}`}});s.Z.getInstance().setUser(t.id,t.username,t.firstName,t.lastName,t.email,t.profileImageUrl,t.uuid,this.token)}}async logout(){try{s.Z.getInstance().getUser()?.token&&await this.fetchApi("auth/logout",{method:"POST"})}catch(e){console.error("Failed to log out on server:",e)}s.Z.getInstance().clearUser(),this.clearToken()}async get(e,t){return this.fetchApi(e,{method:"GET",headers:t})}async post(e,t,r){return this.fetchApi(e,{method:"POST",body:t,headers:r})}async put(e,t,r){return this.fetchApi(e,{method:"PUT",body:t,headers:r})}async delete(e,t){return this.fetchApi(e,{method:"DELETE",headers:t})}}let a=new o("https://localhost/apiProd/api")},42093:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(78105).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Projects\\\\team-2\\\\frontend\\\\src\\\\app\\\\profile\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Projects\\team-2\\frontend\\src\\app\\profile\\page.tsx","default")},73881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(15394);let o=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[492,611,394,703],()=>r(8193));module.exports=s})();